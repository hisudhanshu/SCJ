<main id="main" class="main" style="font-family: Georgia, 'Times New Roman', Times, serif;">
  <div class="pagetitle"></div>
  <section class="section">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-body">
            <h1 class="card-title" style="font-family: Georgia, 'Times New Roman', Times, serif;">
              <strong>Create Recipe</strong>
            </h1>
            <div class="row">
              <div class="col-lg-12">
                <div>
                  <form (ngSubmit)="createOrUpdateProduct()" #productForm="ngForm">
                    <!--  Changes WF -->
                    <div class="row">
                      <div class="col-md-4">
                        <label for="productCategory">Product Category</label>
                        <select id="productCategory" class="form-select" name="productCategory"
                          [(ngModel)]="newProduct.category" required>
                          <option value="">--Select--</option>
                          <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
                        </select>
                      </div>
                      <div class="col-md-4">
                        <label for="productBrand">Brand</label>
                        <select id="productBrand" class="form-select" name="productBrand" [(ngModel)]="newProduct.brand"
                          required>
                          <option value="">--Select--</option>
                          <option value="Tata">Tata</option>
                          <option value="Indica">Indica</option>
                          <option value="Govt">Govt</option>
                        </select>
                      </div>
                      <div class="col-md-4">
                        <label for="productName">Product Name</label>
                        <input type="text" placeholder="Enter here" id="productName" class="form-control"
                          name="productName" [(ngModel)]="newProduct.name" required>
                      </div>
                      <div class="col-md-4"><br>
                        <label for="customerName">Customer Name</label>
                        <select id="customerName" class="form-select" name="customerName"
                          [(ngModel)]="newProduct.customer" required>
                          <option value="">--Select--</option>
                          <option value="SCJ">SCJ</option>
                          <option value="Clay">Clay</option>
                          <option value="Claylogix">Claylogix</option>
                        </select>
                      </div>
                      <div class="col-md-4"><br>
                        <label for="clientType">Client Type</label>
                        <select id="clientType" class="form-select" name="clientType"
                          [(ngModel)]="newProduct.clientType" required>
                          <option value="">--Select--</option>
                          <option value="B2B">B2B</option>
                          <option value="B2C">B2C</option>
                          <option value="Direct">Direct</option>
                        </select>
                      </div>
                      <br>
                      <div class="col-md-4">
                        <br>
                        <label for="selectedMaterial">Select Material</label>
                        <select id="selectedMaterial" class="form-select" name="selectedMaterial"
                          (change)="onMaterialChange($event)" [(ngModel)]="newProduct.material" required>
                          <option value="">-- Select --</option>
                          <option *ngFor="let material of materials" [value]="material.id">{{ material.name }}</option>
                        </select>
                      </div>
                      <!-- Edit button and editable dropdowns -->
                      <div class="col-md-4" *ngIf="selectedMaterialData">
                        <br>
                        <label for="code">M_code</label>
                        <div>
                          <input type="text" id="code" class="form-control" name="code" [(ngModel)]="selectedMaterialData.m_code" readonly>
                        </div>
                      </div>
                      <div class="col-md-4" *ngIf="selectedMaterialData">
                        <br>
                        <label for="type">M_type</label>
                        <div>
                          <input type="text" id="type" class="form-control" name="type" [(ngModel)]="selectedMaterialData.m_type" readonly>
                        </div>
                      </div>
                      <div class="col-md-4" *ngIf="selectedMaterialData">
                        <br>
                        <label for="vendor">M_Vendor</label>
                        <div>
                          <input type="text" id="vendor" class="form-control" name="vendor" [(ngModel)]="selectedMaterialData.m_Vendor" readonly>
                        </div>
                      </div>
                      <div class="col-md-4" *ngIf="selectedMaterialData">
                        <br>
                        <label for="M_inventory">M_inventory</label>
                        <div>
                          <input type="text" id="M_inventory" class="form-control" name="M_inventory" [(ngModel)]="selectedMaterialData.m_inventory" readonly>
                        </div>
                      </div>
                      <div class="col-md-4" *ngIf="selectedMaterialData">
                        <br>
                        <label for="newmquantityperkg">Quantity/Per/kg</label>
                        <div>
                          <input type="text" placeholder="Enter here" id="newmquantityperkg" class="form-control"
                            name="newmquantityperkg" [(ngModel)]="newProduct.mquantity" (input)="calculatePrice()" required>
                        </div>
                      </div>
                      <div class="col-md-4" *ngIf="selectedMaterialData">
                        <br>
                        <label for="cost">M_cost/per/kg</label>
                        <div>
                          <input type="text" id="cost" class="form-control" name="cost" [(ngModel)]="selectedMaterialData.m_cost" readonly>
                        </div>
                      </div>
                      <!-- Add Material button dropdown box show here -->
                      <!-- <div class="row">
                        <div *ngIf="showDropdowns" class="col-md-12">
                          <div class="row">
                            <div class="col-md-4">
                              <br>
                              <label for="newmaterial">Material Name</label>
                              <input type="text" placeholder="Enter here" id="newmaterial" class="form-control"
                                name="newmaterial" [(ngModel)]="newProduct.Ematerial" required>
                            </div>
                            <div class="col-md-4">
                              <br>
                              <label for="newmcode">M_code</label>
                              <input type="text" placeholder="Enter here" id="newmcode" class="form-control"
                                name="newmcode" [(ngModel)]="newProduct.Emcode" required>
                            </div>
                            <div class="col-md-4">
                              <br>
                              <label for="newmtype">M_type</label>
                              <input type="text" placeholder="Enter here" id="newmtype" class="form-control"
                                name="newmtype" [(ngModel)]="newProduct.Emtype" required>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <br>
                              <label for="newmvendor">M_vendor</label>
                              <input type="text" placeholder="Enter here" id="newmvendor" class="form-control"
                                name="newmvendor" [(ngModel)]="newProduct.Emvendor" required>
                            </div>
                            <div class="col-md-4">
                              <br>
                              <label for="M_inventory">M_inventory</label>
                              <input type="text" placeholder="Enter here" id="M_inventory" class="form-control"
                                name="M_inventory" [(ngModel)]="newProduct.Eminventory" required>
                            </div>
                            <div class="col-md-4">
                              <br>
                              <label for="newmquantity">Quantity/Per/kg</label>
                              <input type="text" placeholder="Enter here" id="newmquantity" class="form-control"
                                name="newmquantity" [(ngModel)]="newProduct.Emquantity" (input)="calculatePrice()"
                                required>
                            </div>
                            <div class="col-md-4">
                              <br>
                              <label for="newmcost">M_cost/Per/kg</label>
                              <input type="text" placeholder="Enter here" id="newmcost" class="form-control"
                                name="newmcost" [(ngModel)]="newProduct.Emcost" required>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div><br><br> -->
                    </div><br><br>
                    <div>
                      <button type="submit" class="btn btn-success" [disabled]="!productForm.form.valid">{{
                        isEditMode ? 'Update' : 'Submit' }}</button>
                    </div>
                  </form>
                  <!-- <div class="col-md-4" style="margin-inline: 1000px;" *ngIf="selectedMaterialData">
                    <button class="btn-secondary" (click)="onAddButtonClick()">AddMaterial</button>
                  </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>